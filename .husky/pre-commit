echo "ğŸ” Running lint-staged (Biome on staged files)..."
yarn lint-staged || exit 1

CHANGED="$(git diff --name-only --cached)"

if echo "$CHANGED" | grep -q '^api/'; then
  echo "ğŸ§ª api changed â†’ running tests"
  yarn workspace api test || exit 1
fi

# Note: Web tests will be added when vitest is configured
if echo "$CHANGED" | grep -q '^web/'; then
  echo "ğŸ§ª web changed â†’ running tests"
  yarn workspace web test || exit 1
fi