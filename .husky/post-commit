#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check if this is a feature commit and bump version accordingly
COMMIT_MSG=$(git log -1 --pretty=%B)
COMMIT_TYPE=$(echo "$COMMIT_MSG" | head -n1 | cut -d: -f1 | cut -d'(' -f1)

case $COMMIT_TYPE in
  "feat")
    echo "ğŸš€ Feature commit detected - bumping minor version..."
    yarn version:minor
    ;;
  "fix")
    echo "ğŸ› Bug fix commit detected - bumping patch version..."
    yarn version:patch
    ;;
  *)
    echo "â„¹ï¸  No version bump needed for commit type: $COMMIT_TYPE"
    ;;
esac
